{"version":3,"file":"static/js/942.d131506c.chunk.js","mappings":"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","sources":["API/API.js","webpack://react-homework-template/./src/components/Loader/Loader.module.css?d03f","components/Loader/Loader.js","webpack://react-homework-template/./src/components/SearchForm/SearchForm.module.css?d6f1","components/SearchForm/SearchForm.js","pages/Movies.js","webpack://react-homework-template/./src/styles.module.css?91bc"],"sourcesContent":["import axios from 'axios';\n\naxios.defaults.baseURL = 'https://api.themoviedb.org/3';\nconst API_KEY = '7ec6aaa9ac74287271b32dacda62a7bd';\n\nexport async function getTrendingMovies() {\n  const response = await axios.get(`/trending/movie/day?api_key=${API_KEY}`);\n  return response.data.results;\n}\n\nexport async function getMovieDetails(movieId) {\n  const response = await axios.get(`/movie/${movieId}?api_key=${API_KEY}`);\n  return response.data;\n}\n\nexport async function getMovies(query) {\n  const response = await axios.get(\n    `/search/movie?api_key=${API_KEY}&query=${query}`\n  );\n  return response.data.results;\n}\n\nexport async function getCast(movieId) {\n  const response = await axios.get(\n    `/movie/${movieId}/credits?api_key=${API_KEY}`\n  );\n  return response.data.cast;\n}\n\nexport async function getReviews(movieId) {\n  const response = await axios.get(\n    `/movie/${movieId}/reviews?api_key=${API_KEY}`\n  );\n  return response.data.results;\n}\n","// extracted by mini-css-extract-plugin\nexport default {\"loader\":\"Loader_loader__+lRPl\"};","import React from 'react';\nimport { Bars } from 'react-loader-spinner';\nimport 'react-loader-spinner/dist/loader/css/react-spinner-loader.css';\nimport s from './Loader.module.css';\n\nconst Loader = () => {\n  return (\n    <div className={s.loader}>\n      <Bars color=\"#fc950e\" height={80} width={80} />\n    </div>\n  );\n};\n\nexport default Loader;\n","// extracted by mini-css-extract-plugin\nexport default {\"form\":\"SearchForm_form__o80os\",\"input\":\"SearchForm_input__HOxJo\",\"button\":\"SearchForm_button__UXY06\"};","import { useState, useEffect } from 'react';\nimport { toast } from 'react-toastify';\nimport PropTypes from 'prop-types';\nimport s from './SearchForm.module.css';\n\nfunction SearchForm({ onSubmit, query }) {\n  const [inputValue, setInputValue] = useState('');\n\n  useEffect(() => {\n    setInputValue(query);\n  }, [query]);\n\n  const handleChange = event => {\n    const inputValue = event.currentTarget.value;\n    setInputValue(inputValue);\n  };\n\n  const handleSubmit = event => {\n    event.preventDefault();\n\n    if (inputValue.trim() === '') {\n      toast.warning('Please, enter something...');\n      return;\n    }\n\n    onSubmit(inputValue);\n  };\n\n  return (\n    <>\n      <form onSubmit={handleSubmit} className={s.form}>\n        <input\n          type=\"text\"\n          value={inputValue}\n          className={s.input}\n          onChange={handleChange}\n        ></input>\n        <button type=\"submit\" className={s.button}>\n          Search\n        </button>\n      </form>\n    </>\n  );\n}\n\nSearchForm.propTypes = {\n  onSubmit: PropTypes.func.isRequired,\n  query: PropTypes.string.isRequired,\n};\n\nexport default SearchForm;\n","import { useState, useEffect } from 'react';\nimport { Link, useSearchParams, useLocation } from 'react-router-dom';\nimport SearchForm from 'components/SearchForm';\nimport * as API from '../API/API';\nimport { toast } from 'react-toastify';\nimport Loader from 'components/Loader';\nimport s from '../styles.module.css';\n\nconst STATUS = {\n  LOADING: 'loading',\n  PENDING: 'pending',\n  RESOLVED: 'resolved',\n};\n\nfunction Movies() {\n  const [movies, setMovies] = useState(null);\n  const [status, setStatus] = useState(STATUS.PENDING);\n  const location = useLocation();\n  const [searchParams, setSearchParams] = useSearchParams();\n  const query = searchParams.get('query') ?? '';\n\n  const onSearch = query => {\n    setSearchParams({ query });\n  };\n\n  useEffect(() => {\n    if (query === '') {\n      return;\n    }\n\n    const searchMovies = async () => {\n      setStatus(STATUS.LOADING);\n      try {\n        const movies = await API.getMovies(query);\n\n        if (movies.length === 0) {\n          toast.warning(`No movies for query ${query}`);\n        }\n        setMovies(movies);\n      } catch (error) {\n        toast.error(error.message);\n      } finally {\n        setStatus(STATUS.RESOLVED);\n      }\n    };\n\n    searchMovies();\n  }, [query]);\n\n  return (\n    <>\n      <SearchForm onSubmit={onSearch} query={query} />\n      {status === STATUS.LOADING && <Loader />}\n      {status === STATUS.RESOLVED && (\n        <ul>\n          {movies.map(({ id, title }) => (\n            <li key={id} className={s.moviesListItem}>\n              <Link to={`/movies/${id}`} state={{ from: location }}>\n                {title}\n              </Link>\n            </li>\n          ))}\n        </ul>\n      )}\n    </>\n  );\n}\n\nexport default Movies;\n","// extracted by mini-css-extract-plugin\nexport default {\"homeItem\":\"styles_homeItem__CYDJw\",\"header\":\"styles_header__rqNRg\",\"cardWrapper\":\"styles_cardWrapper__xhdCp\",\"button\":\"styles_button__3EfhQ\",\"poster\":\"styles_poster__qrzCF\",\"title\":\"styles_title__e4Gdh\",\"rating\":\"styles_rating__xvu70\",\"overview\":\"styles_overview__5+zsr\",\"infoHeader\":\"styles_infoHeader__EsjDB\",\"infoList\":\"styles_infoList__LXAVF\",\"infoItem\":\"styles_infoItem__8Kicm\",\"moviesListItem\":\"styles_moviesListItem__pakrP\"};"],"names":["axios","API_KEY","getTrendingMovies","response","data","results","getMovieDetails","movieId","getMovies","query","getCast","cast","getReviews","className","s","color","height","width","onSubmit","useState","inputValue","setInputValue","useEffect","event","preventDefault","trim","toast","type","value","onChange","currentTarget","STATUS","movies","setMovies","status","setStatus","location","useLocation","useSearchParams","searchParams","setSearchParams","get","searchMovies","API","length","message","Loader","map","id","title","to","state","from"],"sourceRoot":""}