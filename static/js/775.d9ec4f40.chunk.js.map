{"version":3,"file":"static/js/775.d9ec4f40.chunk.js","mappings":"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","sources":["API/API.js","webpack://react-homework-template/./src/components/Loader/Loader.module.css?d03f","components/Loader/Loader.js","pages/MovieDetails.js","webpack://react-homework-template/./src/styles.module.css?91bc"],"sourcesContent":["import axios from 'axios';\n\naxios.defaults.baseURL = 'https://api.themoviedb.org/3';\nconst API_KEY = '7ec6aaa9ac74287271b32dacda62a7bd';\n\nexport async function getTrendingMovies() {\n  const response = await axios.get(`/trending/movie/day?api_key=${API_KEY}`);\n  return response.data.results;\n}\n\nexport async function getMovieDetails(movieId) {\n  const response = await axios.get(`/movie/${movieId}?api_key=${API_KEY}`);\n  return response.data;\n}\n\nexport async function getMovies(query) {\n  const response = await axios.get(\n    `/search/movie?api_key=${API_KEY}&query=${query}`\n  );\n  return response.data.results;\n}\n\nexport async function getCast(movieId) {\n  const response = await axios.get(\n    `/movie/${movieId}/credits?api_key=${API_KEY}`\n  );\n  return response.data.cast;\n}\n\nexport async function getReviews(movieId) {\n  const response = await axios.get(\n    `/movie/${movieId}/reviews?api_key=${API_KEY}`\n  );\n  return response.data.results;\n}\n","// extracted by mini-css-extract-plugin\nexport default {\"loader\":\"Loader_loader__+lRPl\"};","import React from 'react';\nimport { Bars } from 'react-loader-spinner';\nimport 'react-loader-spinner/dist/loader/css/react-spinner-loader.css';\nimport s from './Loader.module.css';\n\nconst Loader = () => {\n  return (\n    <div className={s.loader}>\n      <Bars color=\"#fc950e\" height={80} width={80} />\n    </div>\n  );\n};\n\nexport default Loader;\n","import {\n  Link,\n  Outlet,\n  useParams,\n  useLocation,\n  useNavigate,\n} from 'react-router-dom';\nimport { useState, useEffect, Suspense } from 'react';\nimport * as API from '../API/API';\nimport { toast } from 'react-toastify';\nimport Loader from 'components/Loader';\nimport s from '../styles.module.css';\n\nconst STATUS = {\n  LOADING: 'loading',\n  PENDING: 'pending',\n  RESOLVED: 'resolved',\n};\n\nfunction MovieDetails() {\n  const [movie, setMovie] = useState(null);\n  const [status, setStatus] = useState(STATUS.PENDING);\n  const { movieId } = useParams();\n  const location = useLocation();\n  const navigate = useNavigate();\n\n  const backLink = location?.state?.from ?? '/';\n\n  useEffect(() => {\n    const getDetails = async () => {\n      setStatus(STATUS.LOADING);\n      try {\n        const details = await API.getMovieDetails(movieId);\n\n        if (details) {\n          setMovie(details);\n        }\n      } catch (error) {\n        toast.error(error.message);\n        console.log(error.message);\n      } finally {\n        setStatus(STATUS.RESOLVED);\n      }\n    };\n\n    getDetails();\n  }, [movieId]);\n\n  const onClick = () => {\n    navigate(backLink);\n  };\n\n  return (\n    <>\n      {status === STATUS.LOADING && <Loader />}\n      {status === STATUS.RESOLVED && (\n        <>\n          <button type=\"button\" onClick={onClick} className={s.button}>\n            Go back\n          </button>\n          <div className={s.cardWrapper}>\n            <img\n              src={`https://image.tmdb.org/t/p/w342/${movie.poster_path}`}\n              alt={movie.title}\n              width=\"342\"\n              height=\"512\"\n              className={s.poster}\n            />\n            <div>\n              <h2 className={s.title}>{movie.title}</h2>\n              <p className={s.rating}>Rating: {movie.vote_average}</p>\n              <h3 className={s.title}>Overview</h3>\n              <p className={s.overview}>{movie.overview}</p>\n              <h4 className={s.title}>Genres</h4>\n              <p>{movie.genres.map(genre => genre.name).join(', ')}</p>\n            </div>\n          </div>\n          <hr />\n          <h4 className={s.infoHeader}>Additional information</h4>\n          <ul className={s.infoList}>\n            <li className={s.infoItem}>\n              <Link\n                to={`/movies/${movie.id}/cast`}\n                state={{ from: backLink }}\n                className={s.link}\n              >\n                Cast\n              </Link>\n            </li>\n            <li className={s.item}>\n              <Link\n                to={`/movies/${movie.id}/reviews`}\n                state={{ from: backLink }}\n                className={s.link}\n              >\n                Reviews\n              </Link>\n            </li>\n          </ul>\n          <hr />\n          <Suspense fallback={<div>Loading...</div>}>\n            <Outlet />\n          </Suspense>\n        </>\n      )}\n    </>\n  );\n}\n\nexport default MovieDetails;\n","// extracted by mini-css-extract-plugin\nexport default {\"homeItem\":\"styles_homeItem__CYDJw\",\"header\":\"styles_header__rqNRg\",\"cardWrapper\":\"styles_cardWrapper__xhdCp\",\"button\":\"styles_button__3EfhQ\",\"poster\":\"styles_poster__qrzCF\",\"title\":\"styles_title__e4Gdh\",\"rating\":\"styles_rating__xvu70\",\"overview\":\"styles_overview__5+zsr\",\"infoHeader\":\"styles_infoHeader__EsjDB\",\"infoList\":\"styles_infoList__LXAVF\",\"infoItem\":\"styles_infoItem__8Kicm\",\"moviesListItem\":\"styles_moviesListItem__pakrP\"};"],"names":["axios","API_KEY","getTrendingMovies","response","data","results","getMovieDetails","movieId","getMovies","query","getCast","cast","getReviews","className","s","color","height","width","STATUS","useState","movie","setMovie","status","setStatus","useParams","location","useLocation","navigate","useNavigate","backLink","state","from","useEffect","getDetails","API","details","toast","message","console","log","type","onClick","src","poster_path","alt","title","vote_average","overview","genres","map","genre","name","join","to","id","Suspense","fallback"],"sourceRoot":""}